@baseUrl = http://localhost:3000
@token = EAAUDMz1TlqUBP1n4X0GlRlYZAxp1rKeNp1exAF5j7s9dZB6kTinnj3Bh4bhPDVBlBqZBipzZArqhXpPZBNcARARVS2yLJ9CN9wMQ4dSCM88W0FuKXnPdvJR23RoIW1ftGYtz5FIAJFyUMRyKWZAJG0CGJtZAHdbqtJHYhZA9bmnwU0e4SUAfot9OGquB3ZALLjjGHtOjtaadqZBYw61Aaj2itqkJ4B2xZCyUP2Ki0dZBTSR0tdCXA2tMczKLvrbU2s3JzDxdlvKVbSlphTD1Ld9RGIK12Cd1npzG3Ql4fwZDZD
@phoneId = 743581855509318 
#726909047167471
@to = 27790985214


# ➤ Verify webhook challenge
GET {{baseUrl}}/webhook?hub.mode=subscribe&hub.verify_token=vibecode&hub.challenge=CHALLENGE_TOKEN HTTP/1.1



####
# ➤ Simulate incoming message webhook
POST http://localhost:3000/webhook HTTP/1.1
Content-Type: application/json

{
  "entry": [
    {
      "changes": [
        { 
          "value": { 
            "messages": [
              {
                "from": "{{to}}",
                "text": { "body": " I want to cancel an appointment" }
              }
            ]
          }
        }
      ]
    }
  ]
}

####
# ➤ Simulate incoming message webhook
POST http://localhost:3000/webhook HTTP/1.1
Content-Type: application/json

{
  "entry": [
    {
      "changes": [
        { 
          "value": { 
            "messages": [
              {
                "from": "{{to}}",
                "text": { "body": "Hello There!!" }
              }
            ]
          }
        }
      ]
    }
  ]
}


####
# ➤ Simulate incoming message webhook
POST http://localhost:3000/webhook HTTP/1.1
Content-Type: application/json

{
  "entry": [
    {
      "changes": [
        { 
          "value": { 
            "messages": [
              {
                "from": "{{to}}",
                "text": { "body": "7" }
              }
            ]
          }
        }
      ]
    }
  ]
}


### ➤ Send WhatsApp message
POST https://graph.facebook.com/v19.0/{{phoneId}}/messages HTTP/1.1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "messaging_product": "whatsapp",
  "to": "{{to}}",
  "type": "text",
  "text": { "body": "Local test message ✅" }
}



###
GET http://localhost:3000/users

####
GET http://localhost:3000/services

###
GET http://localhost:3000/services/editing/18


###
DELETE http://localhost:3000/services/17


###
POST https://berrysalon.onrender.com/services/4/add
Content-Type: application/json

{
  "service_Id": 4,
  "Image": "uploads/mist.jpg"
}


###
GET https://berrysalon.onrender.com/hours/1

###
GET https://berrysalon.onrender.com/upcoming/appointments/

###
GET https://berrysalon.onrender.com/today/appointments/

###
GET https://berrysalon.onrender.com/month/appointments/

###
GET https://berrysalon.onrender.com/month/appointments/popular

###
GET https://berrysalon.onrender.com/month/appointments/repeat-users


###
GET https://berrysalon.onrender.com/appointments/27790985214

###
POST https://berrysalon.onrender.com/new/appointments
Content-Type: application/json

{
  "name": "Francinah",
  "user_number": "27831234567",
  "serviceId": 1,
  "date": "2025-10-17",
  "time": "13:30:00"
}

###Complete appointment
POST https://berrysalon.onrender.com/complete
Content-Type: application/json

{
  "user": "0651237890",
  "appointmentId": 3
}

###confirm appointment
POST https://berrysalon.onrender.com/confirm
Content-Type: application/json

{
  "user": "0651237890",
  "appointmentId": 3
}

###cancel appointment
POST https://berrysalon.onrender.com/cancel
Content-Type: application/json

{
  "user": "0651237890",
  "appointmentId": 3
}